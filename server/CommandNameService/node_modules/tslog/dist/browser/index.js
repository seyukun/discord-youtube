"use strict";var tslog=(()=>{var S=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames;var J=Object.prototype.hasOwnProperty;var H=(e,t)=>{for(var r in t)S(e,r,{get:t[r],enumerable:!0})},v=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Z(t))!J.call(e,i)&&i!==r&&S(e,i,{get:()=>t[i],enumerable:!(n=U(t,i))||n.enumerable});return e};var G=e=>v(S({},"__esModule",{value:!0}),e);var ot={};H(ot,{BaseLogger:()=>b,Logger:()=>M});var d={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]};function y(e,t,r,n=!1){let i=String(t),a=(s,o)=>`\x1B[${o[0]}m${s}\x1B[${o[1]}m`,l=(s,o)=>o!=null&&typeof o=="string"?a(s,d[o]):o!=null&&Array.isArray(o)?o.reduce((g,u)=>l(g,u),s):o!=null&&o[s.trim()]!=null?l(s,o[s.trim()]):o!=null&&o["*"]!=null?l(s,o["*"]):s;return i.replace(/{{(.+?)}}/g,(s,o)=>{let g=r[o]!=null?r[o]:n?"":s;return e.stylePrettyLogs?l(g,e?.prettyLogStyles?.[o])+a("",d.reset):g})}function L(e){let t=new Set;return JSON.stringify(e,(r,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return"[Circular]";t.add(n)}return n})}function m(e,t){let r={seen:[],stylize:F};return t!=null&&W(r,t),h(r.showHidden)&&(r.showHidden=!1),h(r.depth)&&(r.depth=2),h(r.colors)&&(r.colors=!0),h(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=q),O(r,e,r.depth)}m.colors=d;m.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Y(e){return typeof e=="boolean"}function h(e){return e==null}function F(e){return e}function q(e,t){let r=m.styles[t];return r!=null&&m?.colors?.[r]?.[0]!=null&&m?.colors?.[r]?.[1]!=null?"\x1B["+m.colors[r][0]+"m"+e+"\x1B["+m.colors[r][1]+"m":e}function w(e){return typeof e=="function"}function x(e){return typeof e=="string"}function Q(e){return typeof e=="number"}function B(e){return e===null}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function I(e){return k(e)&&T(e)==="[object RegExp]"}function k(e){return typeof e=="object"&&e!==null}function E(e){return k(e)&&(T(e)==="[object Error]"||e instanceof Error)}function A(e){return k(e)&&T(e)==="[object Date]"}function T(e){return Object.prototype.toString.call(e)}function X(e){let t={};return e.forEach(r=>{t[r]=!0}),t}function tt(e,t,r,n,i){let a=[];for(let l=0,s=t.length;l<s;++l)D(t,String(l))?a.push(P(e,t,r,n,String(l),!0)):a.push("");return i.forEach(l=>{l.match(/^\d+$/)||a.push(P(e,t,r,n,l,!0))}),a}function N(e){return"["+Error.prototype.toString.call(e)+"]"}function O(e,t,r=0){if(e.customInspect&&t!=null&&w(t)&&t?.inspect!==m&&!(t?.constructor&&t?.constructor.prototype===t)){if(typeof t.inspect!="function"&&t.toString!=null)return t.toString();let u=t?.inspect(r,e);return x(u)||(u=O(e,u,r)),u}let n=c(e,t);if(n)return n;let i=Object.keys(t),a=X(i);try{e.showHidden&&Object.getOwnPropertyNames&&(i=Object.getOwnPropertyNames(t))}catch{}if(E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return N(t);if(i.length===0)if(w(e.stylize)){if(w(t)){let u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(I(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(A(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return N(t)}else return t;let l="",s=!1,o=[`{
`,`
}`];if(Array.isArray(t)&&(s=!0,o=[`[
`,`
]`]),w(t)&&(l=" [Function"+(t.name?": "+t.name:"")+"]"),I(t)&&(l=" "+RegExp.prototype.toString.call(t)),A(t)&&(l=" "+Date.prototype.toUTCString.call(t)),E(t)&&(l=" "+N(t)),i.length===0&&(!s||t.length==0))return o[0]+l+o[1];if(r<0)return I(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);let g;return s?g=tt(e,t,r,a,i):g=i.map(u=>P(e,t,r,a,u,s)),e.seen.pop(),et(g,l,o)}function P(e,t,r,n,i,a){let l,s,o;o={value:void 0};try{o.value=t[i]}catch{}try{Object.getOwnPropertyDescriptor&&(o=Object.getOwnPropertyDescriptor(t,i)||o)}catch{}if(o.get?o.set?s=e.stylize("[Getter/Setter]","special"):s=e.stylize("[Getter]","special"):o.set&&(s=e.stylize("[Setter]","special")),D(n,i)||(l="["+i+"]"),s||(e.seen.indexOf(o.value)<0?(B(r)?s=O(e,o.value,void 0):s=O(e,o.value,r-1),s.indexOf(`
`)>-1&&(a?s=s.split(`
`).map(g=>"  "+g).join(`
`).substr(2):s=`
`+s.split(`
`).map(g=>"   "+g).join(`
`))):s=e.stylize("[Circular]","special")),h(l)){if(a&&i.match(/^\d+$/))return s;l=JSON.stringify(""+i),l.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(l=l.substr(1,l.length-2),l=e.stylize(l,"name")):(l=l.replace(/'/g,"\\'").replace(/\\"/g,"\\'").replace(/(^"|"$)/g,"'"),l=e.stylize(l,"string"))}return l+": "+s}function c(e,t){if(h(t))return e.stylize("undefined","undefined");if(x(t)){let r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\\'")+"'";return e.stylize(r,"string")}if(Q(t))return e.stylize(""+t,"number");if(Y(t))return e.stylize(""+t,"boolean");if(B(t))return e.stylize("null","null")}function et(e,t,r){return r[0]+(t===""?"":t+`
`)+"  "+e.join(`,
  `)+" "+r[1]}function W(e,t){if(!t||!k(t))return e;let r=Object.keys(t),n=r.length;for(;n--;)e[r[n]]=t[r[n]];return e}function z(e,...t){let r={seen:[],stylize:F};e!=null&&W(r,e);let n=t[0],i=0,a="",l="";if(typeof n=="string"){if(t.length===1)return n;let s,o=0;for(let g=0;g<n.length-1;g++)if(n.charCodeAt(g)===37){let u=n.charCodeAt(++g);if(i+1!==t.length){switch(u){case 115:{let f=t[++i];typeof f=="number"||typeof f=="bigint"?s=c(r,f):typeof f!="object"||f===null?s=String(f):s=m(f,{...e,compact:3,colors:!1,depth:0});break}case 106:s=L(t[++i]);break;case 100:{let f=t[++i];typeof f=="bigint"?s=c(r,f):typeof f=="symbol"?s="NaN":s=c(r,f);break}case 79:s=m(t[++i],e);break;case 111:s=m(t[++i],{...e,showHidden:!0,showProxy:!0,depth:4});break;case 105:{let f=t[++i];typeof f=="bigint"?s=c(r,f):typeof f=="symbol"?s="NaN":s=c(r,parseInt(s));break}case 102:{let f=t[++i];typeof f=="symbol"?s="NaN":s=c(r,parseInt(f));break}case 99:i+=1,s="";break;case 37:a+=n.slice(o,g),o=g+1;continue;default:continue}o!==g-1&&(a+=n.slice(o,g-1)),a+=s,o=g+1}else u===37&&(a+=n.slice(o,g),o=g+1)}o!==0&&(i++,l=" ",o<n.length&&(a+=n.slice(o)))}for(;i<t.length;){let s=t[i];a+=l,a+=typeof s!="string"?m(s,e):s,l=" ",i++}return a}var rt={runtime:"Browser",browser:globalThis?.navigator.userAgent},nt=/(?:(?:file|https?|global code|[^@]+)@)?(?:file:)?((?:\/[^:/]+){2,})(?::(\d+))?(?::(\d+))?/;function R(e,t,r,n,i,a){return Object.assign({},rt,{name:i,parentNames:a,date:new Date,logLevelId:e,logLevelName:t,path:n?void 0:it(r)})}function it(e,t=Error()){return _(t?.stack?.split(`
`)?.filter(r=>!r.includes("Error: "))?.[e])}function C(e){return e?.stack?.split(`
`)?.filter(t=>!t.includes("Error: "))?.reduce((t,r)=>(t.push(_(r)),t),[])}function _(e){let t=globalThis.location.origin,r={fullFilePath:void 0,fileName:void 0,fileNameWithLine:void 0,fileColumn:void 0,fileLine:void 0,filePath:void 0,filePathWithLine:void 0,method:void 0};if(e!=null){let n=e.match(nt);if(n){r.filePath=n[1].replace(/\?.*$/,""),r.fullFilePath=`${t}${r.filePath}`;let i=r.filePath.split("/");r.fileName=i[i.length-1],r.fileLine=n[2],r.fileColumn=n[3],r.filePathWithLine=`${r.filePath}:${r.fileLine}`,r.fileNameWithLine=`${r.fileName}:${r.fileLine}`}}return r}function j(e){return e instanceof Error}function V(e,t){return e.reduce((r,n)=>(j(n)?r.errors.push(st(n,t)):r.args.push(n),r),{args:[],errors:[]})}function st(e,t){let r=C(e).map(i=>y(t,t.prettyErrorStackTemplate,{...i},!0)),n={errorName:` ${e.name} `,errorMessage:e.message,errorStack:r.join(`
`)};return y(t,t.prettyErrorTemplate,n)}function K(e,t,r,n){let i=(r.length>0&&t.length>0?`
`:"")+r.join(`
`);n.prettyInspectOptions.colors=n.stylePrettyLogs,console.log(e+z(n.prettyInspectOptions,...t)+i)}function $(e){console.log(L(e))}function p(e,t=2,r=0){return e!=null&&isNaN(e)?"":(e=e!=null?e+r:e,t===2?e==null?"--":e<10?"0"+e:e.toString():e==null?"---":e<10?"00"+e:e<100?"0"+e:e.toString())}var b=class{constructor(t,r,n=4){this.logObj=r;this.stackDepthLevel=n;let i=![typeof window,typeof document].includes("undefined"),a=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";this.runtime=i?"browser":a?"nodejs":"unknown";let l=i?((window?.chrome||window.Intl&&Intl?.v8BreakIterator)&&"CSS"in window)!=null:!1,s=i?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1;this.stackDepthLevel=s?4:this.stackDepthLevel,this.settings={type:t?.type??"pretty",name:t?.name,parentNames:t?.parentNames,minLevel:t?.minLevel??0,argumentsArrayName:t?.argumentsArrayName,hideLogPositionForProduction:t?.hideLogPositionForProduction??!1,prettyLogTemplate:t?.prettyLogTemplate??"{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}	{{logLevelName}}	{{filePathWithLine}}{{nameWithDelimiterPrefix}}	",prettyErrorTemplate:t?.prettyErrorTemplate??`
{{errorName}} {{errorMessage}}
error stack:
{{errorStack}}`,prettyErrorStackTemplate:t?.prettyErrorStackTemplate??`  \u2022 {{fileName}}	{{method}}
	{{filePathWithLine}}`,prettyErrorParentNamesSeparator:t?.prettyErrorParentNamesSeparator??":",prettyErrorLoggerNameDelimiter:t?.prettyErrorLoggerNameDelimiter??"	",stylePrettyLogs:t?.stylePrettyLogs??!0,prettyLogTimeZone:t?.prettyLogTimeZone??"UTC",prettyLogStyles:t?.prettyLogStyles??{logLevelName:{"*":["bold","black","bgWhiteBright","dim"],SILLY:["bold","white"],TRACE:["bold","whiteBright"],DEBUG:["bold","green"],INFO:["bold","blue"],WARN:["bold","yellow"],ERROR:["bold","red"],FATAL:["bold","redBright"]},dateIsoStr:"white",filePathWithLine:"white",name:["white","bold"],nameWithDelimiterPrefix:["white","bold"],nameWithDelimiterSuffix:["white","bold"],errorName:["bold","bgRedBright","whiteBright"],fileName:["yellow"],fileNameWithLine:"white"},prettyInspectOptions:t?.prettyInspectOptions??{colors:!0,compact:!1,depth:1/0},metaProperty:t?.metaProperty??"_meta",maskPlaceholder:t?.maskPlaceholder??"[***]",maskValuesOfKeys:t?.maskValuesOfKeys??["password"],maskValuesOfKeysCaseInsensitive:t?.maskValuesOfKeysCaseInsensitive??!1,maskValuesRegEx:t?.maskValuesRegEx,prefix:[...t?.prefix??[]],attachedTransports:[...t?.attachedTransports??[]],overwrite:{mask:t?.overwrite?.mask,toLogObj:t?.overwrite?.toLogObj,addMeta:t?.overwrite?.addMeta,formatMeta:t?.overwrite?.formatMeta,formatLogObj:t?.overwrite?.formatLogObj,transportFormatted:t?.overwrite?.transportFormatted,transportJSON:t?.overwrite?.transportJSON}},this.settings.stylePrettyLogs=this.settings.stylePrettyLogs&&i&&!l?!1:this.settings.stylePrettyLogs}log(t,r,...n){if(t<this.settings.minLevel)return;let i=[...this.settings.prefix,...n],a=this.settings.overwrite?.mask!=null?this.settings.overwrite?.mask(i):this.settings.maskValuesOfKeys!=null&&this.settings.maskValuesOfKeys.length>0?this._mask(i):i,l=this.logObj!=null?this._recursiveCloneAndExecuteFunctions(this.logObj):void 0,s=this.settings.overwrite?.toLogObj!=null?this.settings.overwrite?.toLogObj(a,l):this._toLogObj(a,l),o=this.settings.overwrite?.addMeta!=null?this.settings.overwrite?.addMeta(s,t,r):this._addMetaToLogObj(s,t,r),g,u;return this.settings.overwrite?.formatMeta!=null&&(g=this.settings.overwrite?.formatMeta(o?.[this.settings.metaProperty])),this.settings.overwrite?.formatLogObj!=null&&(u=this.settings.overwrite?.formatLogObj(a,this.settings)),this.settings.type==="pretty"&&(g=g??this._prettyFormatLogObjMeta(o?.[this.settings.metaProperty]),u=u??V(a,this.settings)),g!=null&&u!=null?this.settings.overwrite?.transportFormatted!=null?this.settings.overwrite?.transportFormatted(g,u.args,u.errors,this.settings):K(g,u.args,u.errors,this.settings):this.settings.overwrite?.transportJSON!=null?this.settings.overwrite?.transportJSON(o):this.settings.type!=="hidden"&&$(o),this.settings.attachedTransports!=null&&this.settings.attachedTransports.length>0&&this.settings.attachedTransports.forEach(f=>{f(o)}),o}attachTransport(t){this.settings.attachedTransports.push(t)}getSubLogger(t,r){let n={...this.settings,...t,parentNames:this.settings?.parentNames!=null&&this.settings?.name!=null?[...this.settings.parentNames,this.settings.name]:this.settings?.name!=null?[this.settings.name]:void 0,prefix:[...this.settings.prefix,...t?.prefix??[]]};return new this.constructor(n,r??this.logObj,this.stackDepthLevel)}_mask(t){let r=this.settings.maskValuesOfKeysCaseInsensitive!==!0?this.settings.maskValuesOfKeys:this.settings.maskValuesOfKeys.map(n=>n.toLowerCase());return t?.map(n=>this._recursiveCloneAndMaskValuesOfKeys(n,r))}_recursiveCloneAndMaskValuesOfKeys(t,r,n=[]){return n.includes(t)?{...t}:(typeof t=="object"&&t!=null&&n.push(t),void 0?t:t instanceof Map?new Map(t):t instanceof Set?new Set(t):Array.isArray(t)?t.map(i=>this._recursiveCloneAndMaskValuesOfKeys(i,r,n)):t instanceof Date?new Date(t.getTime()):j(t)?Object.getOwnPropertyNames(t).reduce((i,a)=>(i[a]=r.includes(this.settings?.maskValuesOfKeysCaseInsensitive!==!0?a:a.toLowerCase())?this.settings.maskPlaceholder:this._recursiveCloneAndMaskValuesOfKeys(t[a],r,n),i),this._cloneError(t)):t!=null&&typeof t=="object"?Object.getOwnPropertyNames(t).reduce((i,a)=>(i[a]=r.includes(this.settings?.maskValuesOfKeysCaseInsensitive!==!0?a:a.toLowerCase())?this.settings.maskPlaceholder:this._recursiveCloneAndMaskValuesOfKeys(t[a],r,n),i),Object.create(Object.getPrototypeOf(t))):(i=>(this.settings?.maskValuesRegEx?.forEach(a=>{i=i?.toString()?.replace(a,this.settings.maskPlaceholder)}),i))(t))}_recursiveCloneAndExecuteFunctions(t,r=[]){return r.includes(t)?{...t}:(typeof t=="object"&&r.push(t),Array.isArray(t)?t.map(n=>this._recursiveCloneAndExecuteFunctions(n,r)):t instanceof Date?new Date(t.getTime()):t&&typeof t=="object"?Object.getOwnPropertyNames(t).reduce((n,i)=>(Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i)),n[i]=typeof t[i]=="function"?t[i]():this._recursiveCloneAndExecuteFunctions(t[i],r),n),Object.create(Object.getPrototypeOf(t))):t)}_toLogObj(t,r={}){return t=t?.map(n=>j(n)?this._toErrorObject(n):n),this.settings.argumentsArrayName==null?t.length===1&&!Array.isArray(t[0])&&(t[0],void 0)!==!0&&!(t[0]instanceof Date)?r=typeof t[0]=="object"&&t[0]!=null?{...t[0],...r}:{0:t[0],...r}:r={...r,...t}:r={...r,[this.settings.argumentsArrayName]:t},r}_cloneError(t){let r=t.constructor,n=new r(t.message);Object.assign(n,t);let i=Object.getOwnPropertyNames(n);for(let a of i){let l=Object.getOwnPropertyDescriptor(n,a);l&&(l.writable=!0,Object.defineProperty(n,a,l))}return n}_toErrorObject(t){return{nativeError:t,name:t.name??"Error",message:t.message,stack:C(t)}}_addMetaToLogObj(t,r,n){return{...t,[this.settings.metaProperty]:R(r,n,this.stackDepthLevel,this.settings.hideLogPositionForProduction,this.settings.name,this.settings.parentNames)}}_prettyFormatLogObjMeta(t){if(t==null)return"";let r=this.settings.prettyLogTemplate,n={};r.includes("{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}")?r=r.replace("{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}","{{dateIsoStr}}"):this.settings.prettyLogTimeZone==="UTC"?(n.yyyy=t?.date?.getUTCFullYear()??"----",n.mm=p(t?.date?.getUTCMonth(),2,1),n.dd=p(t?.date?.getUTCDate(),2),n.hh=p(t?.date?.getUTCHours(),2),n.MM=p(t?.date?.getUTCMinutes(),2),n.ss=p(t?.date?.getUTCSeconds(),2),n.ms=p(t?.date?.getUTCMilliseconds(),3)):(n.yyyy=t?.date?.getFullYear()??"----",n.mm=p(t?.date?.getMonth(),2,1),n.dd=p(t?.date?.getDate(),2),n.hh=p(t?.date?.getHours(),2),n.MM=p(t?.date?.getMinutes(),2),n.ss=p(t?.date?.getSeconds(),2),n.ms=p(t?.date?.getMilliseconds(),3));let i=this.settings.prettyLogTimeZone==="UTC"?t?.date:new Date(t?.date?.getTime()-t?.date?.getTimezoneOffset()*6e4);n.rawIsoStr=i?.toISOString(),n.dateIsoStr=i?.toISOString().replace("T"," ").replace("Z",""),n.logLevelName=t?.logLevelName,n.fileNameWithLine=t?.path?.fileNameWithLine??"",n.filePathWithLine=t?.path?.filePathWithLine??"",n.fullFilePath=t?.path?.fullFilePath??"";let a=this.settings.parentNames?.join(this.settings.prettyErrorParentNamesSeparator);return a=a!=null&&t?.name!=null?a+this.settings.prettyErrorParentNamesSeparator:void 0,n.name=t?.name!=null||a!=null?(a??"")+t?.name:"",n.nameWithDelimiterPrefix=n.name.length>0?this.settings.prettyErrorLoggerNameDelimiter+n.name:"",n.nameWithDelimiterSuffix=n.name.length>0?n.name+this.settings.prettyErrorLoggerNameDelimiter:"",y(this.settings,r,n)}};var M=class extends b{constructor(t,r){super(t,r,5)}log(t,r,...n){return super.log(t,r,...n)}silly(...t){return super.log(0,"SILLY",...t)}trace(...t){return super.log(1,"TRACE",...t)}debug(...t){return super.log(2,"DEBUG",...t)}info(...t){return super.log(3,"INFO",...t)}warn(...t){return super.log(4,"WARN",...t)}error(...t){return super.log(5,"ERROR",...t)}fatal(...t){return super.log(6,"FATAL",...t)}getSubLogger(t,r){return super.getSubLogger(t,r)}};return G(ot);})();
